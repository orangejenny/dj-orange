{% extends 'rhyme/base.html' %}

{% block content %}
    {% include "rhyme/partials/infinite_scroll_item_count.html" with text="songs" %}
    <div class="infinite-scroll-container" data-url="{% url "song_list" %}" data-template="#song-row">
        <table class="song-table table table-striped table-condensed table-hover">
            <thead>
                <th>&nbsp;</th>
                <th>Name</th>
                <th>Artist</th>
                <th>Albums</th>
                <th>Rating</th>
                <th>Energy</th>
                <th>Mood</th>
                <th>Tags</th>
            </thead>
            <tbody class="infinite-scroll-data"></tbody>
        </table>
    </div>
{% endblock content %}

{% block templates %}
    <script type="text/html" id="song-row">
        <tr data-song-id="<%= id %>">
            <td class="icon-cell is-starred">
                <i class='<% if (starred) { %>fas<% } else { %>far<% } %> fa-star'></i>
            </td>
            <td><%= name %></td>
            <td><%= artist %></td>
            <td><%= albums %></td>
            <td><div class="rating">{% include "rhyme/partials/rating.html" with rating_attribute="rating" icon="star" %}</div></td>
            <td><div class="rating">{% include "rhyme/partials/rating.html" with rating_attribute="energy" icon="fire" %}</div></td>
            <td><div class="rating">{% include "rhyme/partials/rating.html" with rating_attribute="mood" icon="heart" %}</div></td>
            <td contenteditable='true' data-field='tags' class='tags'><%= tags.join(" ") %></td>
        </tr>
    </script>
{% endblock templates %}
